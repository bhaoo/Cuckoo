/**
 * .______    __    __       ___        ______
 * |   _  \  |  |  |  |     /   \      /  __  \
 * |  |_)  | |  |__|  |    /  ^  \    |  |  |  |
 * |   _  <  |   __   |   /  /_\  \   |  |  |  |
 * |  |_)  | |  |  |  |  /  _____  \  |  `--'  |
 * |______/  |__|  |__| /__/     \__\  \______/
 *
 * Setting
 *
 * @author Bhao
 * @link https://dwd.moe/
 * @date 2023-07-19
 */

var $=mdui.$;getCookie=function(name){var name=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i].trim();if(c.indexOf(name)==0)return c.substring(name.length,c.length)};return false};setCookie=function(name,value,days,path){if(days===false){document.cookie=name+'='+value+';path='+path+';'}else{var exp=new Date();exp.setTime(exp.getTime()+days*24*60*60*1000);document.cookie=name+'='+value+';expires='+exp.toGMTString()+';path='+path+';'}};lightContent=function(msg){setTimeout(function(){$('#brightness i').html('brightness_5');$('body').removeClass('mdui-theme-layout-dark');mdui.snackbar({message:msg,position:'right-bottom',timeout:1000})},300)};darkContent=function(msg){setTimeout(function(){$('#brightness i').html('brightness_2');$('body').addClass('mdui-theme-layout-dark');if(msg){mdui.snackbar({message:msg,position:'right-bottom',timeout:1000})}},300)};brightness=function(){if($('body').hasClass('mdui-theme-layout-dark')||getCookie('brightness')=='false'){setCookie('brightness',true,7,'/');lightContent('已启用亮色模式')}else if(!$('body').hasClass('mdui-theme-layout-dark')||getCookie('brightness')=='true'){setCookie('brightness',false,7,'/');darkContent('已启用暗色模式')}};prefercolor=function(){if(!getCookie('brightness')){if(window.matchMedia('(prefers-color-scheme: dark)').matches==true){darkContent('已跟随系统为你切换为暗色模式')};window.matchMedia('(prefers-color-scheme: light)').addListener(function(){if(window.matchMedia('(prefers-color-scheme: light)').matches==true){lightContent('已跟随系统为你切换为亮色模式')}});window.matchMedia('(prefers-color-scheme: dark)').addListener(function(){if(window.matchMedia('(prefers-color-scheme: dark)').matches==true){darkContent('已跟随系统为你切换为暗色模式')}})}else{if(getCookie('brightness')=='false'){$('#brightness i').html('brightness_2');$('body').addClass('mdui-theme-layout-dark')}}};prefercolor();$(function(){$.ajax({method:'POST',url:'https://api.owo.show/theme/cuckoo/',data:'data='+$('#data').data('update'),beforeSend:function(){$("#verison").html("正在获取新版本中...");$("#notice").html("正在获取公告中...")},error:function(){$("#verison").html("新版本获取出错");$("#notice").html("公告获取出错");$(".log").css('display','none');$(".log-title").css('display','none');},success:function(data){var data=JSON.parse(data);$("#verison").html(data.version);$("#notice").html(data.notice);$(".log").html(data.log)}})});